(this["webpackJsonpgraph-flow-terminal"]=this["webpackJsonpgraph-flow-terminal"]||[]).push([[0],{41:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(26),o=n.n(i),c=n(3),u=n(2),l=n(13),s=function(){return a.a.useContext(pa)},p=n(27),f=n.n(p),b=n(15),d=n(12),h=n(5),v=n(6),y=n(7),m=(n(16),n(1)),w=n(54),g=function(){function e(t){Object(h.a)(this,e),this.data=void 0,this.data=t}return Object(v.a)(e,[{key:"toString",value:function(){return this.data}}],[{key:"Generate",value:function(){return new e(Object(w.a)())}},{key:"FromString",value:function(t){return new e(t)}}]),e}();g.Empty=new g("");var O,j,x,k,I,S=function(){function e(t,n){Object(h.a)(this,e),this.x=void 0,this.y=void 0,this.x=t,this.y=n}return Object(v.a)(e,[{key:"plus",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}}],[{key:"components",value:function(){for(var e=[],t=[],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=0,o=r;i<o.length;i++){var c=o[i];e.push(c.x),t.push(c.y)}return[e,t]}}]),e}();S.Zero=new S(0,0);var D,E=(O=function(){function e(){Object(h.a)(this,e),Object(d.a)(this,"instances",j,this),Object(d.a)(this,"linkerWire",x,this),Object(d.a)(this,"viewOffset",k,this),Object(d.a)(this,"warps",I,this)}return Object(v.a)(e,[{key:"setViewOffset",value:function(e){this.viewOffset=e}}]),e}(),j=Object(y.a)(O.prototype,"instances",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=Object(y.a)(O.prototype,"linkerWire",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=Object(y.a)(O.prototype,"viewOffset",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Zero}}),I=Object(y.a)(O.prototype,"warps",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(y.a)(O.prototype,"setViewOffset",[m.action],Object.getOwnPropertyDescriptor(O.prototype,"setViewOffset"),O.prototype),O),A=n(4),T=n.n(A),P=n(8);!function(e){e[e.Input=0]="Input",e[e.Output=1]="Output"}(D||(D={}));var z,F,C,L,W,M,V,R,B,X,Z,Y,N,G,U,J,H,_,q,$,K,Q,ee,te,ne,re,ae,ie,oe=D,ce=(z=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(h.a)(this,e),Object(d.a)(this,"title",F,this),Object(d.a)(this,"machine",C,this),Object(d.a)(this,"id",L,this),Object(d.a)(this,"type",W,this),Object(d.a)(this,"isDocked",M,this),Object(d.a)(this,"recordID",V,this),this.showAnnotation=!1,this.currentWire=null,this.isVirtual=!1,Object(d.a)(this,"getPositionAction",R,this),this.title=t.title.slice(),this.id=t.id,this.recordID=t.typeID,this.showAnnotation=t.showTypeAnnotation,this.isVirtual=r,this.type=t.type,this.machine=n}return Object(v.a)(e,[{key:"recordType",get:function(){return la.appStore.findRecordTypeByID(this.recordID)}}]),e}(),F=Object(y.a)(z.prototype,"title",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(y.a)(z.prototype,"machine",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Object(y.a)(z.prototype,"id",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=Object(y.a)(z.prototype,"type",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe.Output}}),M=Object(y.a)(z.prototype,"isDocked",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=Object(y.a)(z.prototype,"recordID",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Empty}}),Object(y.a)(z.prototype,"recordType",[m.computed],Object.getOwnPropertyDescriptor(z.prototype,"recordType"),z.prototype),R=Object(y.a)(z.prototype,"getPositionAction",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){return S.Zero}}}),z),ue=(B=function(){function e(t,n){var r=this;Object(h.a)(this,e),Object(d.a)(this,"id",X,this),Object(d.a)(this,"position",Z,this),Object(d.a)(this,"sockets",Y,this),Object(d.a)(this,"dynamicSockets",N,this),Object(d.a)(this,"proto",G,this),Object(d.a)(this,"wires",U,this),Object(d.a)(this,"state",J,this),this.cache=null,this.waitsForData=!1,this.color="black",this.proto=t,this.state=Object.assign({},t.initShape),this.sockets=t.sockets.map((function(e){return new ce(e,r)})),this.dynamicSockets=[],this.id=g.Generate()}return Object(v.a)(e,[{key:"detachWires",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=!0,n=!1,r=void 0;try{for(var a,i=this.wires.filter(e)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;la.appStore.removeWire(o)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"execute",value:function(){var e=Object(P.a)(T.a.mark((function e(){var t,n,r,a,i,o,c,u,l,s,p,f,d,h,v,y,m,w,g,O,j,x,k,I,S,D,E,A,P,z,F,C,L,W,M,V,R,B,X,Z,Y,N,G,U,J,H,_,q=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("consume start",this.proto.title),t=[],n=this.wires.filter((function(e){var t;return(null===(t=e.toSocket)||void 0===t?void 0:t.machine)===q})),r=[],a=!0,i=!1,o=void 0,e.prev=7,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)l=u.value,l.data||t.push(null===(s=l.fromSocket)||void 0===s?void 0:s.machine);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),i=!0,o=e.t0;case 15:e.prev=15,e.prev=16,a||null==c.return||c.return();case 18:if(e.prev=18,!i){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:if(this.cache=null,!t.length){e.next=57;break}if(this.waitsForData=!0,!t.some((function(e){return null===e||void 0===e?void 0:e.waitsForData}))){e.next=29;break}return this.waitsForData=!1,e.abrupt("return");case 29:p=!0,f=!1,d=void 0,e.prev=32,h=t[Symbol.iterator]();case 34:if(p=(v=h.next()).done){e.next=42;break}if(y=v.value,this.cache){e.next=39;break}return e.next=39,null===y||void 0===y?void 0:y.execute();case 39:p=!0,e.next=34;break;case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(32),f=!0,d=e.t1;case 48:e.prev=48,e.prev=49,p||null==h.return||h.return();case 51:if(e.prev=51,!f){e.next=54;break}throw d;case 54:return e.finish(51);case 55:return e.finish(48);case 56:this.waitsForData=!1;case 57:for(m=!0,w=!1,g=void 0,e.prev=60,O=n[Symbol.iterator]();!(m=(j=O.next()).done);m=!0)l=j.value,r.push(l.data),l.data=null;e.next=68;break;case 64:e.prev=64,e.t2=e.catch(60),w=!0,g=e.t2;case 68:e.prev=68,e.prev=69,m||null==O.return||O.return();case 71:if(e.prev=71,!w){e.next=74;break}throw g;case 74:return e.finish(71);case 75:return e.finish(68);case 76:if(!this.proto.isPerSetInvocable){e.next=97;break}if(x=[],k=r.map((function(e){return 0})),I=r.length,S=r.map((function(e){return e.length})),D=Math.max.apply(Math,Object(b.a)(S)),S.includes(0)){e.next=95;break}E=0;case 84:if(!(E<D)){e.next=95;break}for(A=[],P=0;P<I;P++)void 0==(z=r[P][k[P]])&&(z=r[P][0],k[P]=1),k[P]++,A.push(z);return e.next=89,this.proto.invokePerSet(this,A);case 89:for(F=e.sent,x.length||(x=F.map((function(e){return[]}))),C=0;C<F.length;C++)F[C]&&x[C].push(F[C]);case 92:E++,e.next=84;break;case 95:e.next=100;break;case 97:return e.next=99,this.proto.invoke(this,r);case 99:x=e.sent;case 100:this.cache=x,L=this.wires.filter((function(e){var t;return(null===(t=e.fromSocket)||void 0===t?void 0:t.machine)===q})),W=[],0,M=!0,V=!1,R=void 0,e.prev=107,B=L[Symbol.iterator]();case 109:if(M=(X=B.next()).done){e.next=122;break}if(N=X.value,G=this.cache[N.fromSocket.id],!N.data||!N.data.length){e.next=114;break}return e.abrupt("continue",119);case 114:if(N.data=G,G.length){e.next=117;break}return e.abrupt("continue",119);case 117:U=null===(Z=N.toSocket)||void 0===Z?void 0:Z.machine,(null===(Y=N.toSocket)||void 0===Y?void 0:Y.machine.waitsForData)||!N.data||W.includes(U)||W.push(U);case 119:M=!0,e.next=109;break;case 122:e.next=128;break;case 124:e.prev=124,e.t3=e.catch(107),V=!0,R=e.t3;case 128:e.prev=128,e.prev=129,M||null==B.return||B.return();case 131:if(e.prev=131,!V){e.next=134;break}throw R;case 134:return e.finish(131);case 135:return e.finish(128);case 136:J=0,H=W;case 137:if(!(J<H.length)){e.next=144;break}return _=H[J],e.next=141,_.execute();case 141:J++,e.next=137;break;case 144:case"end":return e.stop()}}),e,this,[[7,11,15,23],[16,,18,22],[32,44,48,56],[49,,51,55],[60,64,68,76],[69,,71,75],[107,124,128,136],[129,,131,135]])})));return function(){return e.apply(this,arguments)}}()}]),Object(v.a)(e,[{key:"setPosition",value:function(e){this.position=e}}]),e}(),X=Object(y.a)(B.prototype,"id",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Empty}}),Z=Object(y.a)(B.prototype,"position",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Zero}}),Y=Object(y.a)(B.prototype,"sockets",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=Object(y.a)(B.prototype,"dynamicSockets",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=Object(y.a)(B.prototype,"proto",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=Object(y.a)(B.prototype,"wires",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(y.a)(B.prototype,"state",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(y.a)(B.prototype,"setPosition",[m.action],Object.getOwnPropertyDescriptor(B.prototype,"setPosition"),B.prototype),B),le=n(10),se=n(9),pe=n(11),fe=(H=function(){function e(){Object(h.a)(this,e),Object(d.a)(this,"id",_,this),Object(d.a)(this,"name",q,this),Object(d.a)(this,"title",$,this),Object(d.a)(this,"position",K,this),Object(d.a)(this,"sockets",Q,this),Object(d.a)(this,"isInvocable",ee,this),Object(d.a)(this,"isPerSetInvocable",te,this),this.initShape=null,this.content=function(e){return a.a.createElement(a.a.Fragment,null)},this.toolstrip=function(e){return a.a.createElement(a.a.Fragment,null)}}return Object(v.a)(e,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[[]]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){}},{key:"setPosition",value:function(e){this.position=e}}]),e}(),_=Object(y.a)(H.prototype,"id",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Empty}}),q=Object(y.a)(H.prototype,"name",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=Object(y.a)(H.prototype,"title",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=Object(y.a)(H.prototype,"position",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Zero}}),Q=Object(y.a)(H.prototype,"sockets",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=Object(y.a)(H.prototype,"isInvocable",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),te=Object(y.a)(H.prototype,"isPerSetInvocable",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(y.a)(H.prototype,"setPosition",[m.action],Object.getOwnPropertyDescriptor(H.prototype,"setPosition"),H.prototype),H),be=(ne=function e(t,n){Object(h.a)(this,e),Object(d.a)(this,"value",re,this),Object(d.a)(this,"fields",ae,this),Object(d.a)(this,"recordType",ie,this),this.recordType=t,this.value=n},re=Object(y.a)(ne.prototype,"value",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(y.a)(ne.prototype,"fields",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=Object(y.a)(ne.prototype,"recordType",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne),de={any:g.Empty,bool:g.FromString("0b9d4a45-eb15-460e-8d4a-e2d1b77d1834"),number:g.FromString("0b9d4a45-eb15-460e-8d4a-ecd1b77d1834")},he=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A+B",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("as5eb614-a1ee-4382-9b09-c4a5e9c296a7"),n.name="\u0421\u043b\u043e\u0436\u0438\u0442\u044c",n.title="\u0421\u043b\u043e\u0436\u0438\u0442\u044c",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0].recordType,e.abrupt("return",[new be(r,n[0].value+n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe);function ve(){var e=Object(c.a)(["\n  color: white;\n  font-family: Consolas;\n  padding-left: 10px;\n  padding-right: 10px;\n  width: 60px;\n"]);return ve=function(){return e},e}function ye(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 80px;\n  overflow-y: scroll;\n"]);return ye=function(){return e},e}var me,we,ge,Oe,je,xe,ke=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Input,showTypeAnnotation:!0}],n.id=g.FromString("c8941786-aaf1-4f57-b0a6-144a5a825ff8"),n.name="\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0432\u044b\u0432\u043e\u0434",n.title="\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0432\u044b\u0432\u043e\u0434",n.initShape={vals:[]},n.content=function(e){return a.a.createElement(Ie,null,e.state.vals.map((function(e){return a.a.createElement(Se,null,e.toFixed(2))})))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state.vals=n[0].map((function(e){return e.value})),e.abrupt("return",[[]]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Ie=u.b.div(ye()),Se=u.b.div(ve()),De=(me=function e(){Object(h.a)(this,e),Object(d.a)(this,"factories",we,this),Object(d.a)(this,"machinePrototypes",ge,this),Object(d.a)(this,"records",Oe,this),Object(d.a)(this,"name",je,this),Object(d.a)(this,"color",xe,this)},we=Object(y.a)(me.prototype,"factories",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=Object(y.a)(me.prototype,"machinePrototypes",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=Object(y.a)(me.prototype,"records",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=Object(y.a)(me.prototype,"name",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Untitled package"}}),xe=Object(y.a)(me.prototype,"color",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"gray"}}),me);function Ee(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return Ee=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return Ae=function(){return e},e}var Te,Pe,ze,Fe,Ce=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Output,isVirtual:!1,showTypeAnnotation:!0}],n.id=g.FromString("9bb9b32c-076b-4110-9ca2-a8a7e09cb295"),n.name="\u0427\u0438\u0441\u043b\u043e",n.title="",n.isInvocable=!1,n.initShape={value:0},n.content=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,{onMouseDown:function(e){return e.stopPropagation()},value:e.state.value,onChange:function(t){e.state.value=+t.target.value,e.cache=null}}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[[new be(la.appStore.findRecordTypeByName("\u0427\u0438\u0441\u043b\u043e"),t.state.value)]]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Le=(u.b.div(Ae()),u.b.input(Ee())),We=n(14);function Me(){var e=Object(c.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  top: 0;\n"]);return Me=function(){return e},e}function Ve(){var e=Object(c.a)(["\n  position: absolute;\n"]);return Ve=function(){return e},e}var Re=(Te=function e(){Object(h.a)(this,e),Object(d.a)(this,"isContextVisible",Pe,this),Object(d.a)(this,"contextPosition",ze,this),Object(d.a)(this,"renderFunc",Fe,this)},Pe=Object(y.a)(Te.prototype,"isContextVisible",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=Object(y.a)(Te.prototype,"contextPosition",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Zero}}),Fe=Object(y.a)(Te.prototype,"renderFunc",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te);u.b.div(Ve()),u.b.div(Me());var Be=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A*B",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("431007ea-7593-4745-b7a8-08f2b92f45cf"),n.name="\u0423\u043c\u043d\u043e\u0436\u0438\u0442\u044c",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0].recordType,e.abrupt("return",[new be(r,n[0].value*n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Xe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"X",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"n",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"n\u221aX",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("91d2ee8e-31e9-423d-b7b0-2dc5005a4712"),n.name="\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u0440\u0435\u043d\u044c \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u0438",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0][0].recordType,e.abrupt("return",n.map((function(e){return[new be(r,Math.pow(e[0].value,1/e[1].value))]})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe);function Ze(){var e=Object(c.a)(["\n  color: white;\n  padding: 4px;\n  width: 30px;\n"]);return Ze=function(){return e},e}var Ye=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ff0d3a76-3727-45ad-b3d5-cc4f703b1c58"),n.name="\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u043a",n.title="",n.isInvocable=!1,n.initShape={value:0},n.content=function(e){function t(){return(t=Object(P.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.value=n,e.cache=null,e.execute();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{max:1,min:0,step:.01,onMouseDown:function(e){return e.stopPropagation()},value:e.state.value,onChange:function(e){return function(e){return t.apply(this,arguments)}(+e.target.value)},type:"range"}),a.a.createElement(Ne,null,e.state.value))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[[new be(t.sockets[0].recordType,t.state.value)]]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Ne=u.b.div(Ze());function Ge(){var e=Object(c.a)(["\n  min-width: 200px;\n  min-height: 200px;\n  background-color: #14151b;\n  border-radius: 4px;\n  position: absolute;\n  z-index: 5;\n  color: white;\n  font-family: Arial;\n"]);return Ge=function(){return e},e}function Ue(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 8px;\n  cursor: pointer;\n  :hover {\n    background-color: #ffffff22;\n  }\n"]);return Ue=function(){return e},e}function Je(){var e=Object(c.a)(["\n  width: 100%;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid gray;\n  cursor: pointer;\n  :hover {\n    background-color: #ffffff22;\n  }\n"]);return Je=function(){return e},e}function He(){var e=Object(c.a)(["\n  font-size: 12px;\n"]);return He=function(){return e},e}function _e(e){var t=e.recordID,n=e.recordIDChanged,i=Object(r.useState)(!1),o=Object(We.a)(i,2),c=o[0],u=o[1],p=s().appStore,f=p.currentPackage,b=Object(r.useState)(p.findRecordTypeByID(t)),d=Object(We.a)(b,2),h=d[0],v=d[1];return console.log(t),Object(l.a)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(qe,{onMouseDown:function(e){return u(!0)}},h?h.name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"),c?a.a.createElement(Qe,{onMouseDown:function(e){return e.stopPropagation()}},a.a.createElement($e,{onClick:function(){return u(!1)}},"\u0421\u043a\u0440\u044b\u0442\u044c"),f.records.map((function(e){return a.a.createElement(Ke,{onClick:function(){n(e.id),v(e),u(!1)}},e.name)})),p.loadedPackages.map((function(e){return e.records.map((function(e){return a.a.createElement(Ke,{onClick:function(){n(e.id),v(e),u(!1)}},e.name)}))}))):null)}))}var qe=u.b.div(He()),$e=u.b.div(Je()),Ke=u.b.div(Ue()),Qe=u.b.div(Ge());function et(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return et=function(){return e},e}function tt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return tt=function(){return e},e}var nt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!1}],n.id=g.FromString("f63ca30a-fb15-482d-bfc8-254168325b32"),n.name="\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",n.title="\u0421\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.isPerSetInvocable=!0,n.initShape={type:g.Empty},n.content=function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(rt,null,a.a.createElement(_e,{recordID:e.state.type,recordIDChanged:function(t){return function(t){e.state.type=t,e.detachWires(),e.state.type=t,e.sockets[0].recordID=t,e.dynamicSockets=[];var n=0,r=!0,a=!1,i=void 0;try{for(var o,c=e.sockets[0].recordType.fields[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value;e.dynamicSockets.push(new ce({type:oe.Input,title:u.name,typeID:u.typeID,id:n++,showTypeAnnotation:!0},e))}}catch(l){a=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}(t)}})))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=la.appStore.findRecordTypeByID(t.state.type),(a=new be(r,null)).fields=n,e.abrupt("return",[a]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){}}]),t}(fe),rt=u.b.div(tt());u.b.input(et());function at(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return at=function(){return e},e}function it(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return it=function(){return e},e}var ot=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!0},{id:0,title:"\u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!0}],n.id=g.FromString("f62ca30a-fb15-482d-bfc8-254168325b32"),n.name="\u0414\u0435\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",n.title="\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c",n.isInvocable=!1,n.isPerSetInvocable=!0,n.initShape={typeID:g.Empty},n.content=function(e){return Object(l.a)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ct,null,a.a.createElement(_e,{recordID:e.state.typeID,recordIDChanged:function(t){return n.ChangeType(e,t,(function(e){return!0}))}})))}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[n[0]].concat(Object(b.a)(n[0].fields)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){var n,r=null===(n=t.fromSocket)||void 0===n?void 0:n.recordType;t.toSocket===e.sockets[0]&&this.ChangeType(e,r.id,(function(e){return e!==t}))}},{key:"ChangeType",value:function(e,t,n){e.detachWires(n),e.state.typeID=t,e.sockets[0].recordID=t,e.sockets[1].recordID=t,e.dynamicSockets=[];var r=1,a=!0,i=!1,o=void 0;try{for(var c,u=la.appStore.findRecordTypeByID(t).fields[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;e.dynamicSockets.push(new ce({type:oe.Output,title:l.name,typeID:l.typeID,id:r++,showTypeAnnotation:!0},e))}}catch(s){i=!0,o=s}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}}}]),t}(fe),ct=u.b.div(it());u.b.input(at());function ut(){var e=Object(c.a)(["\n  grid-column-start: 2;\n  grid-row-start: 1;\n  border-left: 1px solid ",";\n  border-bottom: 1px solid ",";\n"]);return ut=function(){return e},e}function lt(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-rows: auto 30px;\n  grid-template-columns: 30px auto;\n  color: gray;\n  > * {\n    margin: 2px;\n  }\n"]);return lt=function(){return e},e}var st=function(e){function t(){var e,n;Object(h.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(o)))).sockets=[{id:0,title:"X",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"Y",typeID:de.number,type:oe.Input,showTypeAnnotation:!0}],n.id=g.FromString("c8841786-aaf1-4f57-b0a6-144a5a825ff8"),n.name="\u0413\u0440\u0430\u0444\u0438\u043a",n.title="\u0413\u0440\u0430\u0444\u0438\u043a",n.initShape={values:[],minX:0,minY:0,maxY:0,maxX:0},n.toolstrip=function(e){return a.a.createElement(a.a.Fragment,null,"\u0417\u0430\u043f\u0438\u0441\u0435\u0439 ",e.state.values.length)},n.content=function(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){var n,r=null===(n=t.current)||void 0===n?void 0:n.getContext("2d"),a=e.state.values;if(a.length>0){var i=a[0].x;e.state.minX=i;var o=a[a.length-1].x;e.state.maxX=o;var c=Math.abs(o-i);r.strokeStyle="white",r.beginPath();var u=Number.MAX_VALUE;e.state.minY=u,a.forEach((function(e){e.y<u&&(u=e.y)}));var l=Number.MIN_VALUE;e.state.maxY=l,a.forEach((function(e){e.y>l&&(l=e.y)}));var s=Math.abs(l-u);console.log(a);for(var p=0;p<a.length;p++){var f=a[p],b=(f.x-i)/c*200,d=(f.y-u)/s*200;0==p?r.moveTo(b,200-d):r.lineTo(b,200-d)}return r.stroke(),function(){return r.clearRect(0,0,200,200)}}}),[e.state.values.length]),Object(l.a)((function(){return a.a.createElement(pt,null,a.a.createElement(ft,{ref:t,width:200,height:200}))}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.state.values=[],r=n[0].length,a=0;a<r;a++)t.state.values.push(new S(n[0][a].value,n[1][a].value));return e.abrupt("return",[[]]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),pt=u.b.div(lt()),ft=u.b.canvas(ut(),(function(e){return e.theme.strain.border}),(function(e){return e.theme.strain.border})),bt=n(31),dt=n.n(bt);function ht(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return ht=function(){return e},e}function vt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return vt=function(){return e},e}var yt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!1},{id:0,title:"",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!1}],n.id=g.FromString("f232a30a-fb15-482d-bfc8-254168325b32"),n.name="\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.title="",n.isInvocable=!1,n.isPerSetInvocable=!0,n.initShape={type:g.Empty},n.content=function(e){return a.a.createElement(dt.a,{style:{transform:"rotate(180deg)",color:"white"},size:20})},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=0;a<t.dynamicSockets.length+1;a++)r.push(n[0]);return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){var n;if((null===(n=t.toSocket)||void 0===n?void 0:n.machine)==e){var r,a=null===(r=t.fromSocket)||void 0===r?void 0:r.recordID;e.sockets[0].recordID=a,e.sockets[1].recordID=a,e.dynamicSockets.forEach((function(e){e.recordID=a}))}var i=e.sockets[1].isDocked?1:0,o=!0,c=!1,u=void 0;try{for(var l,s=e.dynamicSockets[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){l.value.isDocked&&i++}}catch(p){c=!0,u=p}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}i==e.dynamicSockets.length+1&&e.dynamicSockets.push(new ce({id:i,showTypeAnnotation:!1,title:"",typeID:e.sockets[0].recordID,type:oe.Output},e,!1))}}]),t}(fe);u.b.div(vt()),u.b.input(ht());function mt(){var e=Object(c.a)(["\n  color: white;\n  padding: 4px;\n  width: 30px;\n"]);return mt=function(){return e},e}function wt(){var e=Object(c.a)(["\n  margin: 4px;\n"]);return wt=function(){return e},e}var gt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ff1d3a76-3727-45ad-b3d5-cc4f703b1c58"),n.name="\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",n.title="\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e",n.isInvocable=!1,n.initShape={from:0,to:1,step:.2,current:0},n.content=function(e){return a.a.createElement("div",{style:{color:"white",display:"flex",alignItems:"flex-end",flexDirection:"column"}},a.a.createElement("div",null,"\u043e\u0442",a.a.createElement(Ot,{style:{width:30},onMouseDown:function(e){return e.stopPropagation()},value:e.state.from,onChange:function(t){return e.state.from=+t.target.value}})),a.a.createElement("div",null,"\u0441 \u0448\u0430\u0433\u043e\u043c",a.a.createElement(Ot,{style:{width:30},onMouseDown:function(e){return e.stopPropagation()},value:e.state.step,onChange:function(t){return e.state.step=+t.target.value}})),a.a.createElement("div",null,"\u0434\u043e",a.a.createElement(Ot,{style:{width:30},onMouseDown:function(e){return e.stopPropagation()},value:e.state.to,onChange:function(t){return e.state.to=+t.target.value}})))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a,i,o,c,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.sockets[0].recordType,a=[],i=t.state.from,o=t.state.to,c=t.state.step,Math.sign(t.state.step)>0,u=i;u<=o;u+=c)a.push(new be(r,u));return e.abrupt("return",[a]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Ot=u.b.input(wt());u.b.div(mt());function jt(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return jt=function(){return e},e}function xt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return xt=function(){return e},e}var kt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"\u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!0},{id:1,title:"\u0443\u0441\u043b\u043e\u0432\u0438\u0435",typeID:de.bool,type:oe.Input,isVirtual:!1,showTypeAnnotation:!0},{id:0,title:"\u0438\u0441\u0442\u0438\u043d\u0430",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!0},{id:1,title:"\u043b\u043e\u0436\u044c",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!0}],n.id=g.FromString("f23ca30s-fb15-482d-bfc8-254168325b32"),n.name="\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044c",n.title="\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044c",n.isInvocable=!1,n.isPerSetInvocable=!0,n.initShape={type:g.Empty},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[1].value,e.abrupt("return",[r?n[0]:null,r?null:n[0]]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){if(t.toSocket==e.sockets[0]){var n,r=null===(n=t.fromSocket)||void 0===n?void 0:n.recordID;e.sockets[0].recordID=r,e.sockets[2].recordID=r,e.sockets[3].recordID=r}}}]),t}(fe),It=(u.b.div(xt()),u.b.input(jt()),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A>B",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ae5eb614-a1ee-4382-9b09-c4a5e9c296a7"),n.name="\u0415\u0441\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[1].recordType,e.abrupt("return",[new be(r,n[0].value>n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe));function St(){var e=Object(c.a)(["\n  color: white;\n  font-family: Consolas;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return St=function(){return e},e}var Dt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0}],n.id=g.FromString("c8941786-2af1-4f57-b0a6-144a5a825ff8"),n.name="\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0432\u043e\u0434",n.title="\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0432\u043e\u0434",n.initShape={val:!1},n.content=function(e){return a.a.createElement(Et,null,a.a.createElement("input",{type:"checkbox",checked:e.state.val}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state.val=n[0][0].value,e.abrupt("return",[[]]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Et=u.b.div(St());function At(){var e=Object(c.a)(["\n  color: white;\n  font-family: Consolas;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return At=function(){return e},e}var Tt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("c8941782-2af1-4f57-b0a6-144a5a825ff8"),n.name="\u041b\u043e\u0433\u0438\u043a\u0430",n.title="",n.initShape={val:!1},n.content=function(e){return a.a.createElement(Pt,null,a.a.createElement("input",{type:"checkbox",checked:e.state.val,onClick:function(t){e.state.val=t.target.checked,e.execute()}}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sockets[0].recordType,e.abrupt("return",[[new be(r,t.state.val)]]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Pt=u.b.div(At());function zt(){var e=Object(c.a)(["\n  color: white;\n  font-family: Consolas;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return zt=function(){return e},e}function Ft(){var e=Object(c.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return Ft=function(){return e},e}var Ct=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(i)))).sockets=[{id:0,title:"\u0434\u0430\u043d\u043d\u044b\u0435",typeID:de.number,type:oe.Output,showTypeAnnotation:!0},{id:1,title:"\u043b\u0438\u043d\u0438\u0439",typeID:de.number,type:oe.Output,showTypeAnnotation:!0},{id:2,title:"\u0441\u0442\u0440\u043e\u043a",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("c8942782-2af1-4f57-b0a6-144a5a825ff8"),n.name="\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c csv",n.title="\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 csv",n.initShape={data:[],rows:0,columns:0},n.content=function(e){function t(t){var n=0,r=t.split("\n").map((function(e){var t=e.split(",").map((function(e){return+e}));return n=t.length,t}));e.state.rows=r.length,e.state.columns=n,e.state.data=r.flat()}return a.a.createElement(Wt,null,a.a.createElement(Lt,{type:"file",onChange:function(){var e=Object(P.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n.target.files.item(0).text();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=la.appStore.findRecordTypeByID(de.number),e.abrupt("return",[t.state.data.map((function(e){return new be(r,+e)})),[new be(r,t.state.rows)],[new be(r,t.state.columns)]]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Lt=u.b.input(Ft()),Wt=u.b.div(zt()),Mt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A^2",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("421107ea-7593-4745-b7a8-08f2b92f45cf"),n.name="\u041a\u0432\u0430\u0434\u0440\u0430\u0442",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0].recordType,e.abrupt("return",[new be(r,n[0].value*n[0].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe);function Vt(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return Vt=function(){return e},e}function Rt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return Rt=function(){return e},e}var Bt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!1},{id:0,title:"1 >",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!1}],n.id=g.FromString("f23aa30a-fb15-482d-bfc8-254168325b32"),n.name="\u0412\u0437\u044f\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435",n.title="\u041f\u0435\u0440\u0432\u044b\u0435",n.isInvocable=!1,n.initShape={type:g.Empty},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=1+t.dynamicSockets.length,i=0;i<a;i++)i<n[0].length?r.push([n[0][i]]):r.push([]);return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){var n;if((null===(n=t.toSocket)||void 0===n?void 0:n.machine)==e){var r,a=null===(r=t.fromSocket)||void 0===r?void 0:r.recordID;e.sockets[0].recordID=a,e.sockets[1].recordID=a,e.dynamicSockets.forEach((function(e){e.recordID=a}))}var i=e.sockets[1].isDocked?1:0,o=!0,c=!1,u=void 0;try{for(var l,s=e.dynamicSockets[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){l.value.isDocked&&i++}}catch(p){c=!0,u=p}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}i==e.dynamicSockets.length+1&&e.dynamicSockets.push(new ce({id:i,showTypeAnnotation:!1,title:i+1+" >",typeID:e.sockets[0].recordID,type:oe.Output},e,!1))}}]),t}(fe),Xt=(u.b.div(Rt()),u.b.input(Vt()),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"X",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"n",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"X^n",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("2e292cc6-0e20-47a9-bebe-1d603bdeb4fa"),n.name="\u0412 \u0441\u0442\u0435\u043f\u0435\u043d\u0438",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0].recordType,e.abrupt("return",[new be(r,Math.pow(n[0].value,n[1].value))]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe));function Zt(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return Zt=function(){return e},e}function Yt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return Yt=function(){return e},e}var Nt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!1},{id:0,title:"1 >",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!1}],n.id=g.FromString("f22aa30a-fb15-482d-bfc8-254168325b32"),n.name="\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c",n.title="\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c",n.isInvocable=!1,n.initShape={type:g.Empty},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.dynamicSockets.length,a=[],i=0;i<n[0].length;i++)a.push([]);for(o=0;o<n[0].length;o++)a[o%r].push(n[0][o]);return a.push([]),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){var n;if((null===(n=t.toSocket)||void 0===n?void 0:n.machine)==e){var r,a=null===(r=t.fromSocket)||void 0===r?void 0:r.recordID;e.sockets[0].recordID=a,e.sockets[1].recordID=a,e.dynamicSockets.forEach((function(e){e.recordID=a}))}var i=e.sockets[1].isDocked?1:0,o=!0,c=!1,u=void 0;try{for(var l,s=e.dynamicSockets[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){l.value.isDocked&&i++}}catch(p){c=!0,u=p}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}i==e.dynamicSockets.length+1&&e.dynamicSockets.push(new ce({id:i,showTypeAnnotation:!1,title:i+1+" >",typeID:e.sockets[0].recordID,type:oe.Output},e,!1))}}]),t}(fe),Gt=(u.b.div(Yt()),u.b.input(Zt()),function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"\u2211",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("as5eb612-a1ee-4383-9b09-c4a5e9c296a7"),n.name="\u0421\u0443\u043c\u043c\u0430 \u0440\u044f\u0434\u0430",n.title="",n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,a=0;a<n[0].length;a++)r+=n[0][a].value;return e.abrupt("return",[[new be(t.sockets[0].recordType,r)]]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe)),Ut=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"\u0441\u0440\u0435\u0434\u043d\u0435\u0435",typeID:de.number,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("as5eb612-a1ee-4382-9b09-s4a5e9c296a7"),n.name="\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0440\u044f\u0434\u0430",n.title="",n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,a=0;a<n[0].length;a++)r+=n[0][a].value;return e.abrupt("return",[[new be(t.sockets[0].recordType,r/n[0].length)]]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Jt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.number,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A<B",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("as5eb614-a1ee-4382-9b09-c4a5e9c296a7"),n.name="\u0415\u0441\u043b\u0438 \u043c\u0435\u043d\u044c\u0448\u0435",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[1].recordType,e.abrupt("return",[new be(r,n[0].value<n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),Ht=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A&B",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ae5eb614-a1ee-4282-9b09-c4a5e9c296a7"),n.name="\u0418",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[1].recordType,e.abrupt("return",[new be(r,n[0].value&&n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),_t=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"A",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0},{id:1,title:"B",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"A|B",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ae5sb614-a1ee-4382-9b09-c4a5e9c296a7"),n.name="\u0418\u041b\u0418",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[1].recordType,e.abrupt("return",[new be(r,n[0].value||n[1].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe),qt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.bool,type:oe.Input,showTypeAnnotation:!0},{id:0,title:"",typeID:de.bool,type:oe.Output,showTypeAnnotation:!0}],n.id=g.FromString("ae5sb612-a1ee-4382-9b09-c4a5e9c296a7"),n.name="\u041d\u0415",n.title="",n.isPerSetInvocable=!0,n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invokePerSet",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[0].recordType,e.abrupt("return",[new be(r,!n[0].value)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(fe);function $t(){var e=Object(c.a)(["\n  width: 60px;\n  position: relative;\n  background-color: transparent;\n  border: gray 1px solid;\n  margin: 4px 0 4px 0;\n  padding: 2px 4px;\n  font-size: 16px;\n  border-radius: 8px;\n  color: white;\n  text-align: right;\n"]);return $t=function(){return e},e}function Kt(){var e=Object(c.a)(["\n  padding: 4px 12px;\n  margin: 4px;\n  border-radius: 20px;\n  border: 1px solid gray;\n  color: White;\n"]);return Kt=function(){return e},e}var Qt,en,tn,nn,rn,an,on,cn,un=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(le.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(a)))).sockets=[{id:0,title:"",typeID:de.any,type:oe.Input,isVirtual:!1,showTypeAnnotation:!1},{id:0,title:"1 >",typeID:de.any,type:oe.Output,isVirtual:!1,showTypeAnnotation:!1}],n.id=g.FromString("f23aa30a-fb15-481d-bfc8-254168325b32"),n.name="\u0412\u0437\u044f\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435",n.title="\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435",n.isInvocable=!1,n.initShape={type:g.Empty},n}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"invoke",value:function(){var e=Object(P.a)(T.a.mark((function e(t,n){var r,a,i,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=1+t.dynamicSockets.length,i=n[0].length-1,o=0;o<a;o++)o<n[0].length?r.push([n[0][i-o]]):r.push([]);return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onWireConnected",value:function(e,t){var n;if((null===(n=t.toSocket)||void 0===n?void 0:n.machine)==e){var r,a=null===(r=t.fromSocket)||void 0===r?void 0:r.recordID;e.sockets[0].recordID=a,e.sockets[1].recordID=a,e.dynamicSockets.forEach((function(e){e.recordID=a}))}var i=e.sockets[1].isDocked?1:0,o=!0,c=!1,u=void 0;try{for(var l,s=e.dynamicSockets[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){l.value.isDocked&&i++}}catch(p){c=!0,u=p}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}i==e.dynamicSockets.length+1&&e.dynamicSockets.push(new ce({id:i,showTypeAnnotation:!1,title:i+1+" >",typeID:e.sockets[0].recordID,type:oe.Output},e,!1))}}]),t}(fe),ln=(u.b.div(Kt()),u.b.input($t()),Qt=function(){function e(){Object(h.a)(this,e),Object(d.a)(this,"currentFactory",en,this),Object(d.a)(this,"loadedPackages",tn,this),Object(d.a)(this,"contextMenu",nn,this),Object(d.a)(this,"currentPackage",rn,this)}return Object(v.a)(e,[{key:"createInstance",value:function(e,t,n){var r=new ue(e,this);r.color=t,r.setPosition(n.sub(this.currentFactory.viewOffset)),this.currentFactory.instances.push(r)}},{key:"removeWire",value:function(e){var t=(null===e||void 0===e?void 0:e.fromSocket).machine.wires;t.splice(t.indexOf(e),1);var n=(null===e||void 0===e?void 0:e.toSocket).machine.wires;n.splice(n.indexOf(e),1),e.toSocket.isDocked=!1,e.toSocket.currentWire=null,e.fromSocket.isDocked=!1,e.fromSocket.currentWire=null}},{key:"removeInstance",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.wires[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.removeWire(o)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.currentFactory.instances.splice(this.currentFactory.instances.indexOf(e),1)}},{key:"findRecordTypeByID",value:function(e){return[this.currentPackage.records].concat(Object(b.a)(this.loadedPackages.map((function(e){return e.records})))).map((function(t){return t.find((function(t){return t.id.toString()===e.toString()}))})).find((function(e){return void 0!==e}))}},{key:"findRecordTypeByName",value:function(e){return[this.currentPackage.records].concat(Object(b.a)(this.loadedPackages.map((function(e){return e.records})))).map((function(t){return t.find((function(t){return t.name===e}))})).find((function(e){return void 0!==e}))}},{key:"save",value:function(){console.log(JSON.stringify(this.currentFactory))}},{key:"initDefaultPackages",value:function(){var e={color:"#394f39",factories:[],machinePrototypes:[new he,new Be,new Mt,new Xt,new Xe,new Gt,new Ut],name:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",records:[{buildinRepresentation:"number",fields:[],color:"#416b41",defaultValue:0,id:de.number,name:"\u0427\u0438\u0441\u043b\u043e",isRenames:!1,editable:!1},{buildinRepresentation:"any",fields:[],color:"#1b1b2f",defaultValue:null,id:de.any,name:"\u041b\u044e\u0431\u043e\u0439",isRenames:!1,editable:!1},{buildinRepresentation:"boolean",fields:[],color:"#e43f5a",defaultValue:!1,id:de.bool,name:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439",isRenames:!1,editable:!1},{buildinRepresentation:null,fields:[{typeID:de.number,id:0,name:"\u0445",isRenames:!1},{typeID:de.number,id:1,name:"y",isRenames:!1}],defaultValue:0,id:g.FromString("c517721a-f1f5-4f2d-9f61-ffd6481d63ec"),name:"\u0412\u0435\u043a\u0442\u043e\u0440",color:"teal",isRenames:!1,editable:!1}]},t={color:"#4c3342",factories:[],machinePrototypes:[new nt,new ot,new kt,new yt,new Nt,new Bt,new un],name:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",records:[]},n={color:"#42390c",factories:[],machinePrototypes:[new Ht,new _t,new qt,new It,new Jt],name:"\u041b\u043e\u0433\u0438\u043a\u0430",records:[]},r={color:"#004445",factories:[],machinePrototypes:[new ke,new Dt,new st],name:"\u0412\u044b\u0432\u043e\u0434",records:[]},a={color:"#004445",factories:[],machinePrototypes:[new Ce,new Tt,new Ye,new gt,new Ct],name:"\u0412\u0432\u043e\u0434",records:[]};this.loadedPackages.push(e,t,n,a,r)}},{key:"initValues",value:function(){}}]),e}(),en=Object(y.a)(Qt.prototype,"currentFactory",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),tn=Object(y.a)(Qt.prototype,"loadedPackages",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nn=Object(y.a)(Qt.prototype,"contextMenu",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Re}}),rn=Object(y.a)(Qt.prototype,"currentPackage",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new De}}),Object(y.a)(Qt.prototype,"createInstance",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"createInstance"),Qt.prototype),Object(y.a)(Qt.prototype,"removeWire",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"removeWire"),Qt.prototype),Object(y.a)(Qt.prototype,"removeInstance",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"removeInstance"),Qt.prototype),Object(y.a)(Qt.prototype,"findRecordTypeByID",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"findRecordTypeByID"),Qt.prototype),Object(y.a)(Qt.prototype,"findRecordTypeByName",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"findRecordTypeByName"),Qt.prototype),Object(y.a)(Qt.prototype,"save",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"save"),Qt.prototype),Object(y.a)(Qt.prototype,"initDefaultPackages",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"initDefaultPackages"),Qt.prototype),Object(y.a)(Qt.prototype,"initValues",[m.action],Object.getOwnPropertyDescriptor(Qt.prototype,"initValues"),Qt.prototype),Qt),sn=(n(51),{strain:{background:"rgba(59,67,75,0.87)",border:"#6E737A",borderRadius:2,dock:"rgba(170,176,184,0.5)"},flow:{background:"#2a2b30",border:"#3a3b47",step:20}}),pn=(an=function(){function e(){Object(h.a)(this,e),Object(d.a)(this,"currentTheme",on,this),Object(d.a)(this,"themes",cn,this)}return Object(v.a)(e,[{key:"changeTheme",value:function(e){this.currentTheme=e}}]),e}(),on=Object(y.a)(an.prototype,"currentTheme",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sn}}),cn=Object(y.a)(an.prototype,"themes",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[sn]}}),Object(y.a)(an.prototype,"changeTheme",[m.action],Object.getOwnPropertyDescriptor(an.prototype,"changeTheme"),an.prototype),an),fn=function(){function e(t,n){Object(h.a)(this,e),this.width=void 0,this.height=void 0,this.width=t,this.height=n}return Object(v.a)(e,null,[{key:"betweenPoints",value:function(t,n){return new e(Math.abs(t.x-n.x),Math.abs(t.y-n.y))}}]),e}(),bn=function(e){function t(){return Object(h.a)(this,t),Object(le.a)(this,Object(se.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(v.a)(t,[{key:"mul",value:function(e){return new t(this.x*e,this.y*e)}},{key:"inverted",get:function(){return new t(-this.x,-this.y)}}]),t}(S),dn=function(e){var t=e.state;return Object(l.a)((function(){var e,n,r,i=new fn(22,19),o=t.fromSocket.getPositionAction(),c=t.toSocket.getPositionAction(),u=fn.betweenPoints(o,c),l=new bn(1,0),s=new bn(-1,0),p=u.height/u.width,f=c.x-o.x,d=f>0?Math.max(0,(Math.tanh(-2*p+2)/3+4/6)*(1-Math.sqrt(.05/p))*u.width):0;Math.abs(d)==1/0&&(d=0);var h=null!==(e=120*(Math.tanh(-5*f/120/1.6)/2+.5))&&void 0!==e?e:0;h<1&&(h=0);var v=l.mul(d).plus(l.mul(h)).plus(o),y=s.mul(d).plus(s.mul(h)).plus(c),m=S.components(o,c,v,y),w=Object(We.a)(m,2),g=w[0],O=w[1],j=new S(Math.min.apply(Math,Object(b.a)(g)),Math.min.apply(Math,Object(b.a)(O))),x=new S(Math.max.apply(Math,Object(b.a)(g)),Math.max.apply(Math,Object(b.a)(O))),k=fn.betweenPoints(j,x),I=k.height+i.height,D=k.width+2*i.width,E="translate(".concat(j.x-i.width,"px,").concat(j.y-11+2,"px)"),A=-j.y+i.height/2,T=-j.x+i.width;return a.a.createElement("svg",{style:{height:I,width:D,cursor:"crosshair",zIndex:2,position:"absolute",transform:E},viewBox:"0 0 ".concat(D," ").concat(I)},a.a.createElement("path",{d:"M ".concat(o.x+T," ").concat(o.y+A," \n                    C ").concat(v.x+T," ").concat(v.y+A,",\n                     ").concat(y.x+T," ").concat(y.y+A,",\n                      ").concat(c.x+T," ").concat(c.y+A),stroke:null===(n=t.fromSocket)||void 0===n||null===(r=n.recordType)||void 0===r?void 0:r.color,"stroke-dasharray":"20,20",strokeWidth:11,"stroke-linecap":"round",fill:"transparent"}),function(e){var n,r;return a.a.createElement("path",{transform:"translate(".concat(e.x-j.x+1,",").concat(e.y+A-i.height/2,")"),d:"M0 4.50001L5.99998 3.8147e-06L22 4L22 15L5.99998 19L0 14.5L0 4.50001Z",fill:null===(n=t.fromSocket)||void 0===n||null===(r=n.recordType)||void 0===r?void 0:r.color})}(o),function(e){var n,r;return a.a.createElement("path",{transform:"translate(".concat(e.x-j.x-1+i.width,",").concat(e.y+A-i.height/2,")"),d:"M22 14.5L16 19L3.49691e-07 15L-5.96007e-07 4L16 1.56163e-06L22 4.5L22 14.5Z",fill:null===(n=t.fromSocket)||void 0===n||null===(r=n.recordType)||void 0===r?void 0:r.color})}(c))}))},hn=n(40),vn=function e(t,n){Object(h.a)(this,e),this.fromSocket=null,this.toSocket=null,this.id=g.Empty,this.data=null,this.fromSocket=t,this.toSocket=n,this.id=g.Generate()};function yn(){var e=Object(c.a)(["\n  display: flex;\n  user-select: none;\n"]);return yn=function(){return e},e}function mn(){var e=Object(c.a)(["\n  display: flex;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  white-space: nowrap;\n  align-items: center;\n  color: white;\n  font-family: Arial;\n  font-size: 10px;\n"]);return mn=function(){return e},e}function wn(){var e=Object(c.a)(["\n  font-size: 8px;\n  color: gray;\n"]);return wn=function(){return e},e}var gn=function(e){var t,n,i=e.state,o=Object(r.useState)(!1),c=Object(We.a)(o,2),u=c[0],l=c[1],p=s().appStore,f=p.currentFactory,b=Object(r.useRef)(null),d=s().themeStore.currentTheme;function h(){var e=b.current.getBoundingClientRect();i.getPositionAction=function(){return new S(e.x+(i.type===oe.Output?e.width-1:1),e.y+e.height/2+1).sub(f.viewOffset)}}var v=i.machine.position,y=f.viewOffset;function m(e){var t,n;return e&&((null===(t=e.toSocket)||void 0===t?void 0:t.recordType)===i.recordType||(null===(n=e.fromSocket)||void 0===n?void 0:n.recordType)===i.recordType||i.recordType===la.appStore.findRecordTypeByID(g.Empty))}Object(r.useEffect)((function(){h()}),[v.y,v.x,y.x,y.y]),Object(r.useEffect)((function(){return window.addEventListener("mousemove",k),window.addEventListener("mouseup",I),function(){window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",I)}}));var w=function(){m(f.linkerWire)&&l(!0)},O=function(){l(!1)},j=function(){if(m(f.linkerWire)){var e,t,n=f.linkerWire;if(null==n)return;f.linkerWire=null;var r=null;(null===(e=n.toSocket)||void 0===e?void 0:e.isVirtual)?(n.toSocket=i,r=n.fromSocket):(n.fromSocket=i,r=n.toSocket),i.currentWire=n,i.machine=i.machine,i.isVirtual=!1,r.isDocked=!0,r.currentWire=n,i.isDocked=!0,r.machine.wires.push(n),i.machine.wires.push(n),null===(t=r)||void 0===t||t.machine.proto.onWireConnected(r.machine,n),null===i||void 0===i||i.machine.proto.onWireConnected(i.machine,n)}},x=function(e){if(e.stopPropagation(),0===e.button){var t,n,r=new ce({type:i.type==oe.Input?oe.Output:oe.Input,title:"",typeID:null!==(t=null===(n=i.recordType)||void 0===n?void 0:n.id)&&void 0!==t?t:g.Empty,id:0,showTypeAnnotation:!1},i.machine,!0);if(e.persist(),r.getPositionAction=function(){return new S(+e.clientX,+e.clientY)},i.isDocked){var a=i.currentWire,o=i.type==oe.Input?a.fromSocket:a.toSocket;p.removeWire(a),r.type=i.type,i.type===oe.Input?f.linkerWire=new vn(o,r):f.linkerWire=new vn(r,o)}else i.type===oe.Output?f.linkerWire=new vn(i,r):f.linkerWire=new vn(r,i)}},k=function(e){if(f.linkerWire){var t,n=function(){return new S(e.clientX,e.clientY).sub(f.viewOffset)};(null===(t=f.linkerWire.toSocket)||void 0===t?void 0:t.isVirtual)?f.linkerWire.toSocket.getPositionAction=n:f.linkerWire.fromSocket.getPositionAction=n}},I=function(){f.linkerWire=null,h()},D=function(e){var t=e.children,n=e.left,r=e.right;return a.a.createElement("svg",{ref:b,onMouseDown:x,onMouseUp:j,style:{right:r,left:n,cursor:"crosshair",paddingTop:2,position:"absolute"},width:"22",height:"19",viewBox:"0 0 22 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t)},E=i.machine.color;return a.a.createElement(a.a.Fragment,null,i.type===oe.Output?a.a.createElement(xn,null,a.a.createElement(jn,{style:{marginRight:-8,position:"relative",backgroundColor:E,zIndex:1}},i.title,i.showAnnotation?a.a.createElement(On,null,null===(t=i.recordType)||void 0===t?void 0:t.name):null),a.a.createElement("svg",{style:{position:"relative"},width:"20",height:"25",viewBox:"0 0 20 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M20 25L0 25L2.18557e-06 -1.74846e-06L20 0L20 3.125L14 7.5L14 17.5L20 21.875L20 25Z",fill:E})),a.a.createElement(D,{right:-16,left:"auto"},a.a.createElement("path",{onMouseEnter:w,onMouseLeave:O,d:"M0 4.50001L5.99998 3.8147e-06L22 4L22 15L5.99998 19L0 14.5L0 4.50001Z",fill:u?d.strain.dock:"transparent"}))):a.a.createElement(xn,null,a.a.createElement(D,{right:"auto",left:-14},a.a.createElement("path",{onMouseEnter:w,onMouseLeave:O,d:"M22 14.5L16 19L3.49691e-07 15L-5.96007e-07 4L16 1.56163e-06L22 4.5L22 14.5Z",fill:u?d.strain.dock:"transparent"})),a.a.createElement("svg",{width:"20",height:"25",viewBox:"0 0 20 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 0H20V25H0V21.875L6 17.5V7.5L0 3.125V0Z",fill:E})),a.a.createElement(jn,{style:{marginLeft:-8,backgroundColor:E}},i.title,i.showAnnotation?a.a.createElement(On,null,null===(n=i.recordType)||void 0===n?void 0:n.name):null)))},On=u.b.div(wn()),jn=u.b.div(mn()),xn=u.b.div(yn()),kn=n(32),In=n.n(kn),Sn=n(33),Dn=n.n(Sn);function En(){var e=Object(c.a)(["\n  border-radius: 0 0 4px 4px;\n  border-top: 1px "," solid;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 4px;\n  color: gray;\n\n  > div *:hover {\n    color: white;\n  }\n"]);return En=function(){return e},e}function An(){var e=Object(c.a)(["\n  border-radius: 4px 4px 0 0;\n  font-size: 14px;\n  padding: 4px;\n  border-bottom: 1px "," solid;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: Arial;\n  color: gray;\n"]);return An=function(){return e},e}function Tn(){var e=Object(c.a)(["\n  flex: 0;\n  user-select: none;\n  color: white;\n  font-family: Arial;\n"]);return Tn=function(){return e},e}function Pn(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  cursor: grab;\n"]);return Pn=function(){return e},e}function zn(){var e=Object(c.a)(['\n  userselect: "none";\n']);return zn=function(){return e},e}function Fn(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  margin-right: auto;\n  > * {\n    margin: 8px 4px;\n    color: gray;\n  }\n"]);return Fn=function(){return e},e}function Cn(e){var t=e.state,n=e.children,i=Object(r.useState)(void 0),o=Object(We.a)(i,2),c=o[0],u=o[1],p=Object(r.useState)(!1),f=Object(We.a)(p,2),b=f[0],d=f[1],h=Object(r.useRef)(null),v=s().appStore;function y(){d(!1),console.log("mouse up")}function m(e){v.currentFactory.linkerWire||(u(new S(e.clientX-t.position.x,e.clientY-t.position.y)),d(!0))}function w(e){b&&t.setPosition(new S(e.clientX-c.x,e.clientY-c.y))}Object(r.useEffect)((function(){return window.addEventListener("mousemove",w),function(){window.removeEventListener("mousemove",w)}}));var g={backgroundColor:t.color};return Object(l.a)((function(){var e;return a.a.createElement(Wn,{onMouseUp:y,onMouseDown:m,ref:h},a.a.createElement(Rn,{style:g},null===(e=t.proto)||void 0===e?void 0:e.title),a.a.createElement(Mn,null,n),a.a.createElement(Bn,{style:g},a.a.createElement(Ln,null,t.proto.toolstrip(t)),a.a.createElement("div",{style:{display:"flex",alignItems:"center"},onMouseDown:function(e){return e.stopPropagation()}},a.a.createElement(Dn.a,{onClick:function(e){v.removeInstance(t)},size:16}),void 0==t.sockets.find((function(e){return e.type==oe.Input}))?a.a.createElement(In.a,{onClick:function(){var e=Object(P.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),t.cache=null,t.execute();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),size:16}):null)))}))}var Ln=u.b.div(Fn()),Wn=u.b.div(zn()),Mn=u.b.div(Pn()),Vn=u.b.div(Tn()),Rn=Object(u.b)(Vn)(An(),(function(e){return e.theme.strain.border})),Bn=Object(u.b)(Vn)(En(),(function(e){return e.theme.strain.border}));function Xn(){var e=Object(c.a)(["\n  flex: 0;\n  display: flex;\n  flex-direction: column;\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Zn=function(){return e},e}var Yn=function(e){var t=e.state,n=s().appStore;function r(e){var n=e.style;return a.a.createElement("div",{style:Object(hn.a)({},n,{backgroundColor:t.color,flex:1})})}var i=[].concat(Object(b.a)(t.sockets),Object(b.a)(t.dynamicSockets)),o=i.filter((function(e){return e.type===oe.Input})),c=i.filter((function(e){return e.type===oe.Output}));return Object(l.a)((function(){return a.a.createElement(Cn,{state:t},a.a.createElement(Gn,null,a.a.createElement(r,{style:{}}),o.map((function(e){return a.a.createElement(gn,{key:e.id*e.type?1:-1,state:e})})),a.a.createElement(r,{style:{}})),a.a.createElement(r,{style:{width:o.length?10:0,paddingTop:4,paddingBottom:4}}),a.a.createElement(Nn,{style:{backgroundColor:t.color}},t.proto.content(t,n)),a.a.createElement(r,{style:{width:c.length?10:0,paddingTop:4,paddingBottom:4}}),a.a.createElement(Gn,null,a.a.createElement(r,{style:{}}),c.map((function(e){return a.a.createElement(gn,{key:e.id*e.type?1:-1,state:e})})),a.a.createElement(r,{style:{}})))}))},Nn=u.b.div(Zn()),Gn=u.b.div(Xn());function Un(){var e=Object(c.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  top: 0;\n"]);return Un=function(){return e},e}function Jn(){var e=Object(c.a)(["\n  position: absolute;\n"]);return Jn=function(){return e},e}function Hn(e){var t=e.Content,n=e.Activator,i=Object(r.useState)(S.Zero),o=Object(We.a)(i,2),c=o[0],u=o[1],l=Object(r.useState)(!1),s=Object(We.a)(l,2),p=s[0],f=s[1];return a.a.createElement(a.a.Fragment,null,n((function(e){u(e),f(!0)})),p?a.a.createElement(qn,{onClick:function(e){return f(!1)}},a.a.createElement(_n,{onClick:function(e){e.stopPropagation()},style:{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}},a.a.createElement(t,{setVisible:f,menuPos:c}))):null)}var _n=u.b.div(Jn()),qn=u.b.div(Un()),$n=n(34),Kn=n.n($n),Qn=n(35),er=n.n(Qn),tr=n(36),nr=n.n(tr),rr=n(37),ar=n.n(rr),ir=n(38),or=n.n(ir);function cr(){var e=Object(c.a)(["\n  min-width: 220px;\n  min-height: 200px;\n  background-color: #14151b;\n  border-radius: 4px;\n\n  color: white;\n  font-family: Arial;\n"]);return cr=function(){return e},e}function ur(){var e=Object(c.a)(["\n  flex-grow: 1;\n"]);return ur=function(){return e},e}function lr(){var e=Object(c.a)(["\n  font-size: 14px;\n  padding: 2px;\n  padding-left: 12px;\n  padding-right: 12px;\n  cursor: pointer;\n  :hover {\n    background-color: gray;\n  }\n"]);return lr=function(){return e},e}function sr(){var e=Object(c.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  margin-top: 8px;\n"]);return sr=function(){return e},e}function pr(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return pr=function(){return e},e}function fr(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  height: 40px;\n"]);return fr=function(){return e},e}function br(e){var t=e.menuPos,n=e.setVisible,i=s().appStore,o=Object(r.useState)(null),c=Object(We.a)(o,2),u=c[0],l=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(wr,null,a.a.createElement(hr,null,i.loadedPackages.map((function(e){return a.a.createElement(mr,{key:e.name,style:{filter:u===e?"brightness(120%)":""},onClick:function(){return l(e)}},a.a.createElement(dr,{style:{backgroundColor:e.color}},function(e){switch(e){case"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430":return a.a.createElement(Kn.a,{size:24});case"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435":return a.a.createElement(er.a,{size:24});case"\u0412\u0432\u043e\u0434":return a.a.createElement(ar.a,{size:24});case"\u0412\u044b\u0432\u043e\u0434":return a.a.createElement(nr.a,{size:24});case"\u041b\u043e\u0433\u0438\u043a\u0430":return a.a.createElement(or.a,{size:24});default:return a.a.createElement("div",null,e)}}(e.name)))}))),u?a.a.createElement(vr,null,u.machinePrototypes.map((function(e){return a.a.createElement(yr,{key:e.id.toString(),onClick:function(r){i.createInstance(e,u.color,t),n(!1)}},e.name)}))):null))}var dr=u.b.div(fr()),hr=u.b.div(pr()),vr=u.b.div(sr()),yr=u.b.div(lr()),mr=u.b.div(ur()),wr=u.b.div(cr());function gr(){var e=Object(c.a)(["\n  position: absolute;\n  display: block;\n"]);return gr=function(){return e},e}function Or(){var e=Object(c.a)(["\n  position: absolute;\n  flex: 1;\n"]);return Or=function(){return e},e}function jr(){var e=Object(c.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n"]);return jr=function(){return e},e}function xr(){var e=Object(c.a)(["\n  z-index: 0;\n  height: 100vh;\n  width: 100vw;\n  position: relative;\n  background-image: repeating-linear-gradient(\n      transparent 0px,\n      transparent ","px,\n      "," ","px,\n      "," ","px\n    ),\n    repeating-linear-gradient(\n      90deg,\n      transparent 0px,\n      "," ","px,\n      "," ","px,\n      "," ","px\n    );\n"]);return xr=function(){return e},e}var kr=function(e){var t=e.state,n=Object(r.useState)(S.Zero),i=Object(We.a)(n,2),o=i[0],c=i[1],u=Object(r.useState)(!1),p=Object(We.a)(u,2),f=p[0],b=p[1];s().appStore;function d(e){1===e.button&&(b(!0),c(new S(e.clientX-t.viewOffset.x,e.clientY-t.viewOffset.y)))}function h(e){f&&b(!1)}function v(e){f&&t.setViewOffset(new S(e.clientX-o.x,e.clientY-o.y))}return Object(r.useEffect)((function(){return window.addEventListener("mousemove",v),window.addEventListener("mouseup",h),function(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",h)}})),Object(l.a)((function(){return a.a.createElement(Hn,{Content:br,Activator:function(e){return Object(l.a)((function(){return a.a.createElement(Ir,{onDragOver:function(e){return e.preventDefault()},onMouseDown:d,onContextMenu:function(t){t.preventDefault(),e(new S(t.clientX,t.clientY))},style:{overflow:"hidden",backgroundPosition:"".concat(t.viewOffset.x,"px ").concat(t.viewOffset.y,"px")}},a.a.createElement(Sr,{style:{transform:"translate(".concat(t.viewOffset.x,"px,").concat(t.viewOffset.y,"px)")}},t.instances.map((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dr,{style:{zIndex:4,transform:"translate(".concat(+e.position.x,"px, ").concat(e.position.y,"px)")},key:e.id.toString()},a.a.createElement(Yn,{state:e})),e.wires.filter((function(t){var n;return t.fromSocket.getPositionAction&&(null===(n=t.toSocket)||void 0===n?void 0:n.machine)===e})).map((function(e){return a.a.createElement(dn,{key:e.id.toString(),state:e})})))})),t.linkerWire?a.a.createElement(dn,{state:t.linkerWire}):null))}))}})}))},Ir=u.b.div(xr(),(function(e){return e.theme.flow.step}),(function(e){return e.theme.flow.border}),(function(e){return e.theme.flow.step}),(function(e){return e.theme.flow.border}),(function(e){return e.theme.flow.step+1}),(function(e){return e.theme.flow.background}),(function(e){return e.theme.flow.step}),(function(e){return e.theme.flow.border}),(function(e){return e.theme.flow.step}),(function(e){return e.theme.flow.border}),(function(e){return e.theme.flow.step+1})),Sr=u.b.div(jr()),Dr=(u.b.div(Or()),u.b.div(gr())),Er=n(20),Ar=n.n(Er),Tr=n(21),Pr=n.n(Tr),zr=n(22),Fr=n.n(zr),Cr=n(17),Lr=n.n(Cr);function Wr(){var e=Object(c.a)(["\n  color: gray;\n  align-items: center;\n  display: flex;\n  font-family: Consolas;\n  border-bottom: 1px solid #575757;\n  padding: 8px;\n"]);return Wr=function(){return e},e}function Mr(){var e=Object(c.a)(["\n  cursor: text;\n"]);return Mr=function(){return e},e}function Vr(){var e=Object(c.a)(["\n  cursor: text;\n"]);return Vr=function(){return e},e}function Rr(){var e=Object(c.a)(["\n  margin: 0 8px 0 20px;\n  padding: 4px 0;\n  color: #c9c9c9;\n  align-items: center;\n  display: flex;\n"]);return Rr=function(){return e},e}function Br(){var e=Object(c.a)(["\n  margin: 0 8px;\n  padding: 4px 0;\n  color: #c9c9c9;\n  align-items: center;\n  display: flex;\n"]);return Br=function(){return e},e}function Xr(){var e=Object(c.a)(["\n  border-bottom: 1px solid gray;\n"]);return Xr=function(){return e},e}function Zr(){var e=Object(c.a)(["\n  overflow-y: scroll;\n  max-height: 300px;\n  height: calc(100% - 40px);\n"]);return Zr=function(){return e},e}function Yr(e){var t=s().appStore,n=t.currentPackage;function r(){n.records.push({buildinRepresentation:"none",fields:[],id:g.Generate(),color:"teal",defaultValue:null,isRenames:!0,name:"new record",editable:!0})}function i(e){return a.a.createElement(Ur,{key:e.id.toString()},e.isRenames?a.a.createElement(a.a.Fragment,null,a.a.createElement(_r,{value:e.name,onChange:function(t){return e.name=t.target.value}}),a.a.createElement(Lr.a,{style:{paddingLeft:4,cursor:"pointer"},onClick:function(){return e.isRenames=!1},size:18})):a.a.createElement(Hr,{onClick:function(){return e.isRenames=e.editable&&!0}},e.name),e.editable?a.a.createElement(Pr.a,{onClick:function(){e.fields.push({name:"newField",typeID:g.Empty,id:g.Generate(),isRenames:!0})},size:14,style:{color:"lightgreen",paddingLeft:12,cursor:"pointer"}}):null)}function o(e){return a.a.createElement(Jr,{key:e.id.toString()},a.a.createElement(Fr.a,{style:{color:"cornflowerblue",marginRight:8},size:16}),e.isRenames?a.a.createElement(a.a.Fragment,null,a.a.createElement(_r,{value:e.name,autoFocus:!0,onChange:function(t){return e.name=t.target.value}}),a.a.createElement(Lr.a,{style:{paddingLeft:4,cursor:"pointer"},onClick:function(){return e.isRenames=!1},size:18})):a.a.createElement(a.a.Fragment,null,a.a.createElement(Hr,{onClick:function(){return e.isRenames=!0}},e.name),a.a.createElement("div",{style:{paddingLeft:8,color:"cornflowerblue",paddingRight:8}}," ","\u0442\u0438\u043f\u0430"," "),a.a.createElement(_e,{recordID:e.typeID,recordIDChanged:function(t){return e.typeID=t}})))}return Object(l.a)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(qr,null,"\u041e\u0431\u043e\u0437\u0440\u0435\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043f\u0438\u0441\u0435\u0439"," ",a.a.createElement(Ar.a,{onClick:r,size:20,style:{color:"lightgreen",paddingLeft:12,cursor:"pointer"}})),a.a.createElement(Nr,null,n.records.map((function(e){return a.a.createElement(Gr,null,i(e),e.fields.map((function(e){return o(e)})))})),t.loadedPackages.map((function(e){return e.records.map((function(t){return a.a.createElement(Gr,{key:t.name+e.name},i(t),t.fields.map((function(e){return o(e)})))}))}))))}))}var Nr=u.b.div(Zr()),Gr=u.b.div(Xr()),Ur=u.b.div(Br()),Jr=u.b.div(Rr()),Hr=u.b.div(Vr()),_r=u.b.input(Mr()),qr=u.b.div(Wr());function $r(){var e=Object(c.a)(["\n  color: gray;\n  align-items: center;\n  display: flex;\n  font-family: Consolas;\n  border-bottom: 1px dotted #575757;\n  padding: 8px;\n"]);return $r=function(){return e},e}function Kr(){var e=Object(c.a)(["\n  min-height: 300px;\n  border: 1px solid gray;\n"]);return Kr=function(){return e},e}function Qr(){var e=Object(c.a)(["\n  cursor: text;\n"]);return Qr=function(){return e},e}function ea(){var e=Object(c.a)(["\n  cursor: text;\n"]);return ea=function(){return e},e}function ta(){var e=Object(c.a)(["\n  margin: 0 8px 0 20px;\n  padding: 4px 0;\n  color: #c9c9c9;\n  align-items: center;\n  display: flex;\n"]);return ta=function(){return e},e}function na(){var e=Object(c.a)(["\n  margin: 0 8px;\n  padding: 4px 0;\n  color: #c9c9c9;\n  align-items: center;\n  display: flex;\n"]);return na=function(){return e},e}function ra(){var e=Object(c.a)(["\n  border-bottom: 1px solid gray;\n"]);return ra=function(){return e},e}u.b.div(ra()),u.b.div(na()),u.b.div(ta()),u.b.div(ea()),u.b.input(Qr()),u.b.div(Kr()),u.b.div($r());function aa(){var e=Object(c.a)(["\n  border: 1px gray solid;\n  display: flex;\n  color: white;\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n"]);return aa=function(){return e},e}u.b.div(aa());function ia(){var e=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n"]);return ia=function(){return e},e}function oa(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return oa=function(){return e},e}function ca(){var e=Object(c.a)(["\n  width: 40px;\n  height: 100%;\n"]);return ca=function(){return e},e}function ua(){var e=Object(c.a)(["\n  min-height: 300px;\n  flex-grow: 1;\n  border: 1px solid #525252;\n"]);return ua=function(){return e},e}var la={themeStore:new pn,appStore:new ln};for(var sa in la)f()(la[sa]);var pa=a.a.createContext(la);var fa=u.b.div(ua()),ba=(u.b.div(ca()),u.b.div(oa())),da=u.b.div(ia(),(function(e){return e.theme.flow.background}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.addEventListener("gamepadconnected",(function(e){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",e.gamepad.index,e.gamepad.id,e.gamepad.buttons.length,e.gamepad.axes.length)})),o.a.render(a.a.createElement((function(){var e=s(),t=e.themeStore,n=e.appStore;return n.initValues(),n.initDefaultPackages(),Object(l.a)((function(){return a.a.createElement(u.a,{theme:t.currentTheme},a.a.createElement(da,null,a.a.createElement(kr,{state:n.currentFactory}),a.a.createElement(ba,null,a.a.createElement(fa,null,a.a.createElement(Yr,null)))))}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.07c79fb9.chunk.js.map